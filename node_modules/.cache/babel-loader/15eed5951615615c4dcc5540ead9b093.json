{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Owner\\\\osa2.4\\\\src\\\\App.js\";\nimport React from 'react';\nimport axios from 'axios'; // The base url for the API\n\nconst baseUrl = 'http://localhost:3001/persons';\n\nconst Persons = ({\n  persons,\n  onRemovePerson\n}) => {\n  return React.createElement(\"table\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 10\n    },\n    __self: this\n  }, React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11\n    },\n    __self: this\n  }, persons.map(person => React.createElement(Person, {\n    key: person.name,\n    person: person,\n    onRemovePerson: onRemovePerson,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12\n    },\n    __self: this\n  }))));\n};\n\nconst Person = ({\n  person,\n  onRemovePerson\n}) => {\n  return React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20\n    },\n    __self: this\n  }, React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21\n    },\n    __self: this\n  }, person.name), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21\n    },\n    __self: this\n  }, person.number), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    onClick: event => onRemovePerson(person.id, event),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21\n    },\n    __self: this\n  }, \"remove\")));\n}; // The amount of props can be decreased. Following the instructions this is the result.\n\n\nconst NewPersonForm = ({\n  onAddPerson,\n  onNameChange,\n  onNumberChange,\n  newName,\n  newNumber\n}) => {\n  return React.createElement(\"form\", {\n    onSubmit: onAddPerson,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, \"name: \", React.createElement(\"input\", {\n    value: newName,\n    onChange: onNameChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, \"number: \", React.createElement(\"input\", {\n    value: newNumber,\n    onChange: onNumberChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, \"add\")));\n};\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.addPerson = event => {\n      event.preventDefault();\n      const person = {\n        name: this.state.newName,\n        number: this.state.newNumber\n      };\n\n      if (this.state.persons.map(person => person.name.toUpperCase()).includes(person.name.toUpperCase())) {\n        alert(`${person.name} already exists! Please choose a different name.`);\n        return;\n      }\n\n      axios.post(baseUrl, person).then(response => {\n        this.setState({\n          persons: this.state.persons.concat(response.data),\n          newName: '',\n          newNumber: ''\n        });\n      });\n    };\n\n    this.removePerson = (id, event) => {\n      const url = `${baseUrl}/${id}`;\n      const person = this.state.persons.find(n => n.id === id);\n\n      if (!window.confirm(`Are you sure you want to delete ${person.name} from your phonebook?`)) {\n        return;\n      }\n\n      axios.delete(url, person).then(response => {\n        this.setState({\n          persons: this.state.persons.filter(person => person.id !== id)\n        });\n      });\n    };\n\n    this.handleNameChange = event => {\n      this.setState({\n        newName: event.target.value\n      });\n    };\n\n    this.handleNumberChange = event => {\n      this.setState({\n        newNumber: event.target.value\n      });\n    };\n\n    this.state = {\n      persons: [],\n      newName: '',\n      newNumber: ''\n    };\n  }\n\n  componentDidMount() {\n    axios.get(baseUrl).then(response => {\n      this.setState({\n        persons: response.data\n      });\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \"Phonebook\"), React.createElement(NewPersonForm, {\n      onAddPerson: this.addPerson,\n      onNameChange: this.handleNameChange,\n      onNumberChange: this.handleNumberChange,\n      newName: this.state.newName,\n      newNumber: this.state.newNumber,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, \"Numbers\"), React.createElement(Persons, {\n      persons: this.state.persons,\n      onRemovePerson: this.removePerson,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/Owner/osa2.4/src/App.js"],"names":["React","axios","baseUrl","Persons","persons","onRemovePerson","map","person","name","Person","number","event","id","NewPersonForm","onAddPerson","onNameChange","onNumberChange","newName","newNumber","App","Component","constructor","props","addPerson","preventDefault","state","toUpperCase","includes","alert","post","then","response","setState","concat","data","removePerson","url","find","n","window","confirm","delete","filter","handleNameChange","target","value","handleNumberChange","componentDidMount","get","render"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport axios from 'axios'\r\n\r\n\r\n// The base url for the API\r\nconst baseUrl = 'http://localhost:3001/persons'\r\n\r\nconst Persons = ({ persons, onRemovePerson }) => {\r\n  return (\r\n    <table>\r\n      <tbody>\r\n        {persons.map(person => <Person key={person.name} person={person} onRemovePerson={onRemovePerson} />)}\r\n      </tbody>\r\n    </table>\r\n  )\r\n}\r\n\r\nconst Person = ({ person, onRemovePerson }) => {\r\n  return (\r\n    <tr>\r\n      <td>{person.name}</td><td>{person.number}</td><td><button onClick={(event) => onRemovePerson(person.id, event)}>remove</button></td>\r\n    </tr>\r\n  )\r\n}\r\n\r\n// The amount of props can be decreased. Following the instructions this is the result.\r\nconst NewPersonForm = ({ onAddPerson, onNameChange, onNumberChange, newName, newNumber }) => {\r\n  return (\r\n    <form onSubmit={onAddPerson}>\r\n      <div>\r\n        name: <input value={newName} onChange={onNameChange} />\r\n      </div>\r\n      <div>\r\n        number: <input value={newNumber} onChange={onNumberChange} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  )\r\n\r\n}\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      persons: [],\r\n      newName: '',\r\n      newNumber: ''\r\n    }\r\n  }\r\n\r\n  addPerson = (event) => {\r\n    event.preventDefault()\r\n    const person = {\r\n      name: this.state.newName,\r\n      number: this.state.newNumber\r\n    }\r\n    if (this.state.persons.map(person => person.name.toUpperCase()).includes(person.name.toUpperCase())) {\r\n      alert(`${person.name} already exists! Please choose a different name.`)\r\n      return\r\n    }\r\n    axios.post(baseUrl, person)\r\n      .then(response => {\r\n        this.setState({\r\n          persons: this.state.persons.concat(response.data),\r\n          newName: '',\r\n          newNumber: ''\r\n        })\r\n      })\r\n  }\r\n\r\n  removePerson = (id, event) => {\r\n    const url = `${baseUrl}/${id}`\r\n    const person = this.state.persons.find(n => n.id === id)\r\n    if (!window.confirm(`Are you sure you want to delete ${person.name} from your phonebook?`)) {\r\n      return\r\n    }\r\n    axios\r\n      .delete(url, person)\r\n      .then(response => {\r\n        this.setState({\r\n          persons: this.state.persons.filter(person => person.id !== id)\r\n        })\r\n      })\r\n  }\r\n\r\n  handleNameChange = (event) => {\r\n    this.setState({ newName: event.target.value })\r\n  }\r\n\r\n  handleNumberChange = (event) => {\r\n    this.setState({ newNumber: event.target.value })\r\n  }\r\n\r\n  componentDidMount() {\r\n    axios\r\n      .get(baseUrl)\r\n      .then(response => {\r\n        this.setState({ persons: response.data })\r\n      })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h2>Phonebook</h2>\r\n        <NewPersonForm onAddPerson={this.addPerson} onNameChange={this.handleNameChange} onNumberChange={this.handleNumberChange} newName={this.state.newName} newNumber={this.state.newNumber} />\r\n        <h2>Numbers</h2>\r\n        <Persons persons={this.state.persons} onRemovePerson={this.removePerson} />\r\n      </div>\r\n\r\n    )\r\n  }\r\n}\r\n\r\nexport default App\r\n"]},"metadata":{},"sourceType":"module"}